{"ast":null,"code":"var _jsxFileName = \"/home/muhammad/Documents/react-rc/monggovestnaufal/src/components/loginpage/index.jsx\";\nimport React, { Component } from 'react';\nimport { FormGroup, Label, Col, Input, Button, Form, NavLink } from 'reactstrap';\nimport AppHeader from '../common/AppHeader';\nimport store from 'store';\nimport { Redirect, Link } from 'react-router-dom';\nimport isLoggedIn from '../helpers/is_logged_in';\nimport axios from 'axios';\nimport AppFooter from '../common/AppFooter';\naxios.defaults.baseUrl = 'https://historic-acadia-33199.herokuapp.com';\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChecked = () => {\n      this.setState({\n        check: !this.state.check,\n        hidden: !this.state.hidden\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      check: false,\n      hidden: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChecked = this.handleChecked.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    let name = e.target.name;\n    let value = e.target.value;\n    let data = {};\n    data[name] = value;\n    this.setState(data);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    axios.post(\"https://historic-acadia-33199.herokuapp.com/api/user/login\", {\n      username: this.state.username,\n      password: this.state.password\n    }).then(res => {\n      console.log(res);\n      localStorage.setItem('JWT_TOKEN', res.data.token);\n      localStorage.setItem('USER_ID', res.data.id);\n      localStorage.setItem('Roles', res.data.roles);\n      store.set('loggedIn', true); //ini tu berurutan kalau this propsnya diatas local set item itu bakal duluan\n\n      this.props.history.push('/');\n      alert(res.data.message);\n    }).catch(function (err) {\n      //console.log(res.data.message);\n      alert(\"email atau password anda salah\", err);\n    });\n    this.setState({\n      username: \"\",\n      password: \"\"\n    });\n  }\n\n  render() {\n    if (isLoggedIn()) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(AppHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        style: {\n          width: '100px',\n          margin: 'auto',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Form, {\n        style: {\n          width: '400px',\n          margin: 'auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Username:\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Input, {\n        type: \"text\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        placeholder: \"Masukkan Username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Password: \"), React.createElement(Input, {\n        type: this.state.hidden ? \"password\" : \"text\",\n        required: \"required\",\n        name: \"password\",\n        value: this.state.password,\n        placeholder: \"Kata Sandi Anda\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(Label, {\n        check: true,\n        sm: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"checkbox\",\n        checked: this.state.check,\n        onChange: this.handleChecked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), \"lihat kata sandi\"))), React.createElement(\"div\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.onSubmit,\n        color: \"submit\",\n        className: \"btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"MASUK\"), \" \"), React.createElement(\"div\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/register\",\n        className: \"text-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Belum Punya Akun? Skuy SignUp\"))))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(AppFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\n;\nexport default LoginPage;","map":{"version":3,"sources":["/home/muhammad/Documents/react-rc/monggovestnaufal/src/components/loginpage/index.jsx"],"names":["React","Component","FormGroup","Label","Col","Input","Button","Form","NavLink","AppHeader","store","Redirect","Link","isLoggedIn","axios","AppFooter","defaults","baseUrl","LoginPage","constructor","props","handleChecked","setState","check","state","hidden","username","password","handleChange","bind","onSubmit","e","name","target","value","data","preventDefault","post","then","res","console","log","localStorage","setItem","token","id","roles","set","history","push","alert","message","catch","err","render","width","margin","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { FormGroup, Label, Col, Input, Button, Form, NavLink } from 'reactstrap';\nimport AppHeader from '../common/AppHeader';\nimport store from 'store';\nimport { Redirect, Link } from 'react-router-dom';\nimport isLoggedIn from '../helpers/is_logged_in';\nimport axios from 'axios'\nimport AppFooter from '../common/AppFooter';\n\naxios.defaults.baseUrl = 'https://historic-acadia-33199.herokuapp.com'\n\n\nclass LoginPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: \"\",\n            password: \"\",\n            check: false,\n            hidden: true\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n\n        this.handleChecked = this.handleChecked.bind(this);\n\n        this.onSubmit = this.onSubmit.bind(this)\n    }\n\n\n    handleChange(e) {\n        let name = e.target.name;\n        let value = e.target.value;\n        let data = {};\n        data[name] = value;\n        this.setState(data);\n    }\n\n    handleChecked = () => {\n        this.setState({\n            check: !this.state.check,\n            hidden: !this.state.hidden\n        });\n    }\n    onSubmit(e) {\n        e.preventDefault();\n        axios\n            .post(\"https://historic-acadia-33199.herokuapp.com/api/user/login\", {\n                username: this.state.username,\n                password: this.state.password\n            })\n\n\n            .then((res) => {\n                console.log(res)\n                localStorage.setItem('JWT_TOKEN', res.data.token)\n                localStorage.setItem('USER_ID', res.data.id)\n                localStorage.setItem('Roles', res.data.roles)\n                store.set('loggedIn', true);\n                //ini tu berurutan kalau this propsnya diatas local set item itu bakal duluan\n                this.props.history.push('/')\n                alert(res.data.message);\n\n            })\n\n            .catch(function (err) {\n                //console.log(res.data.message);\n                alert(\"email atau password anda salah\", err);\n            });\n        this.setState({\n            username: \"\",\n            password: \"\"\n        })\n\n    }\n\n    render() {\n\n\n        if (isLoggedIn()) {\n            return (\n                <Redirect to='/' />\n            )\n        } else {\n            return (\n                <div>\n                    <AppHeader />\n                    <br></br>\n                    <h1 style={{ width: '100px', margin: 'auto', textAlign: 'center' }}>Login</h1>\n                    <div>\n                        <Form style={{ width: '400px', margin: 'auto' }}>\n                            <FormGroup>\n                               Username:<br />\n                                <Input type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleChange} placeholder=\"Masukkan Username\" />\n                            </FormGroup>\n                            <FormGroup>\n                                <Label>Password: </Label>\n                                <Input type={this.state.hidden ? \"password\" : \"text\"} required=\"required\" name=\"password\" value={this.state.password} placeholder=\"Kata Sandi Anda\" onChange={this.handleChange}\n                                />\n                                <Label check sm={12}>\n                                    <Col sm={12}>\n                                        <Input type=\"checkbox\" checked={this.state.check} onChange={this.handleChecked} />lihat kata sandi\n                                 </Col>\n                                </Label>\n                            </FormGroup>\n\n                            <div align=\"center\">\n                                <Button onClick={this.onSubmit} color=\"submit\" className=\"btn-primary\">MASUK</Button>{\" \"}\n                            </div>\n                            <div align=\"center\">\n\n                                <NavLink ><Link to='/register' className=\"text-info\">Belum Punya Akun? Skuy SignUp</Link></NavLink>\n\n                            </div>\n                        </Form>\n                    </div>\n                    <br></br>\n                    <br></br>\n                    <br></br>\n                    <br></br>\n                    <br></br>\n<AppFooter />\n                </div>\n                \n            );\n        }\n    }\n};\n\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}